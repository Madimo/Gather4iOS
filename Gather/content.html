<!--
  content.html
  Gather

  Created by Madimo on 14-5-24.
  Copyright (c) 2014å¹´ Madimo. All rights reserved.
-->

<html>
	<head>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <style type="text/css">
            {{ style }}
        </style>
        <script>
            function replyClicked(replyId) {
                sendCommandToObjc("reply", replyId);
            }
        
            function userClicked(userID) {
                sendCommandToObjc("user", userID);
            }
            function stopBubble() {
                window.event.cancelBubble = true;
            }
        
            function jumpToFloor(element_id) {
                var element = document.getElementById(element_id);
                
                var top = element.offsetTop;
                var current = element.offsetParent;
                
                while (current != null) {
                    top += current.offsetTop;
                    current = current.offsetParent;
                }
                sendCommandToObjc("jumpToFloor", top);
                
                stopBubble();
            }
        
            function sendCommandToObjc(cmd, param) {
                var url = "gather:" + cmd + ":" + param;
                document.location = url;
            }
        
            function avatarOnload(object) {
                object.className = "author_avatar_fade_in";
            }
        
            function replyImgOnload(object) {
                object.className = "reply_body_img_fade_in";
            }
        </script>
	</head>
	<body>
        
        {{ topic }}
        
        <div class="reply_list">
            {{ reply_list }}
        </div>
        
	</body>
</html>